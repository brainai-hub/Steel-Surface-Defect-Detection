# 배포(Deployment) - 응용: 피지컬 컴퓨팅

https://makecode.microbit.org/_FHrVfw7W4T5C

![image](https://github.com/user-attachments/assets/2de7154a-a11c-49a7-8b5b-c40dad0e9957)

```
cmd가 1이라면, 
초기 값:
cmd = 1 (정수)
str() 함수로 문자열 변환:
cmd = str(cmd)
결과: "1" (문자열)
줄바꿈 문자 추가:
cmd = cmd + '\n'
결과: "1\n"
바이트 인코딩:
cmd = str.encode(cmd)
결과: b"1\n" (바이트 문자열)
따라서, ser.write(cmd)가 호출될 때, 괄호 안에 들어가는 최종 값은 **b"1\n"**입니다.
```

```
def startSerial():
    ser = None
    ports = serial.tools.list_ports.comports()
    for port, desc, hwid in sorted(ports):
        if 'USB' in desc:
            print('Microbit USB detected: ', port)
            ser = serial.Serial(port, 115200, timeout = 0, parity=serial.PARITY_NONE, rtscts=0)
    return ser

def SerialSendCommand(cmd, ser):
    if ser is not None:
        cmd = str(cmd)
        cmd = cmd + '\n'
        cmd = str.encode(cmd)
        ser.write(cmd)

def Main():
    ser = startSerial()
    tic = time.time()

    while(True):

        if len(results[0].boxes.cls) > 0:
            cmd = 1
        else:
            cmd = 0

        if time.time()-tic>1:
            tic=time.time()
            SerialSendCommand(cmd,ser)

    if ser is not None:
        ser.close()
 
```
